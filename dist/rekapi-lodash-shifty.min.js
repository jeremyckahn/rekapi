/*! rekapi - v1.4.5 - 2015-04-19 - http://rekapi.com */
(function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(b,c){var d=typeof c;if(b=b.cache,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:r+c;return b=(b=b[d])&&b[e],"object"==d?b&&a(b,c)>-1?0:-1:b?0:-1}function c(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:r+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=i();h["false"]=h["null"]=h["true"]=h.undefined=!1;var j=i();for(j.array=a,j.cache=h,j.push=c;++b<d;)j.push(a[b]);return j}function g(a){return"\\"+V[a]}function h(){return o.pop()||[]}function i(){return p.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function j(a){a.length=0,o.length<t&&o.push(a)}function k(a){var b=a.cache;b&&k(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,p.length<t&&p.push(a)}function l(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function m(c){function o(a){return a&&"object"==typeof a&&!Zd(a)&&Hd.call(a,"__wrapped__")?a:new p(a)}function p(a,b){this.__chain__=!!b,this.__wrapped__=a}function t(a){function b(){if(d){var a=l(d);Id.apply(a,arguments)}if(this instanceof b){var f=X(c.prototype),g=c.apply(f,a||arguments);return Eb(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Yd(b,a),b}function V(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Eb(a);if(!g)return a;var i=Ad.call(a);if(!R[i])return a;var k=Wd[i];switch(i){case K:case L:return new k(+a);case N:case Q:return new k(a);case P:return f=k(a.source,z.exec(a)),f.lastIndex=a.lastIndex,f}var m=Zd(a);if(b){var n=!d;d||(d=h()),e||(e=h());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=m?k(a.length):{}}else f=m?l(a):ee({},a);return m&&(Hd.call(a,"index")&&(f.index=a.index),Hd.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(m?Yb:he)(a,function(a,g){f[g]=V(a,b,c,d,e)}),n&&(j(d),j(e)),f):f}function X(a){return Eb(a)?Nd(a):{}}function Y(a,b,c){if("function"!=typeof a)return Zc;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Xd.funcNames&&(d=!a.name),d=d||!Xd.funcDecomp,!d)){var e=Fd.call(a);Xd.funcNames||(d=!A.test(e)),d||(d=E.test(e),Yd(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Ic(a,b)}function Z(a){function b(){var a=i?g:this;if(e){var o=l(e);Id.apply(o,arguments)}if((f||k)&&(o||(o=l(arguments)),f&&Id.apply(o,f),k&&o.length<h))return d|=16,Z([c,m?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[n]),this instanceof b){a=X(c.prototype);var p=c.apply(a,o);return Eb(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,m=8&d,n=c;return Yd(b,a),b}function $(c,d){var e=-1,g=ib(),h=c?c.length:0,i=h>=s&&g===a,j=[];if(i){var l=f(d);l?(g=b,d=l):i=!1}for(;++e<h;){var m=c[e];g(d,m)<0&&j.push(m)}return i&&k(d),j}function ab(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zd(h)||mb(h))){b||(h=ab(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function bb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var i=typeof a,k=typeof b;if(!(a!==a||a&&U[i]||b&&U[k]))return!1;if(null==a||null==b)return a===b;var l=Ad.call(a),m=Ad.call(b);if(l==I&&(l=O),m==I&&(m=O),l!=m)return!1;switch(l){case K:case L:return+a==+b;case N:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case P:case Q:return a==vd(b)}var n=l==J;if(!n){var o=Hd.call(a,"__wrapped__"),p=Hd.call(b,"__wrapped__");if(o||p)return bb(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(l!=O)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(Db(q)&&q instanceof q&&Db(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=h()),f||(f=h());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var v=t,w=b[u];if(d)for(;v--&&!(g=bb(a[v],w,c,d,e,f)););else if(!(g=bb(a[u],w,c,d,e,f)))break}}else ge(b,function(b,h,i){return Hd.call(i,h)?(u++,g=Hd.call(a,h)&&bb(a[h],b,c,d,e,f)):void 0}),g&&!d&&ge(a,function(a,b,c){return Hd.call(c,b)?g=--u>-1:void 0});return e.pop(),f.pop(),s&&(j(e),j(f)),g}function cb(a,b,c,d,e){(Zd(b)?Yb:he)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zd(b))||ie(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zd(j)?j:[]:ie(j)?j:{}),d.push(b),e.push(j),l||cb(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function db(a,b){return a+Ed(Vd()*(b-a+1))}function eb(c,d,e){var g=-1,i=ib(),l=c?c.length:0,m=[],n=!d&&l>=s&&i===a,o=e||n?h():m;if(n){var p=f(o);i=b,o=p}for(;++g<l;){var q=c[g],r=e?e(q,g,c):q;(d?!g||o[o.length-1]!==r:i(o,r)<0)&&((e||n)&&o.push(r),m.push(q))}return n?(j(o.array),k(o)):e&&j(o),m}function fb(a){return function(b,c,d){var e={};c=o.createCallback(c,d,3);var f=-1,g=b?b.length:0;if("number"==typeof g)for(;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else he(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function gb(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Db(a))throw new wd;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var m=a&&a.__bindData__;if(m&&m!==!0)return m=l(m),m[2]&&(m[2]=l(m[2])),m[3]&&(m[3]=l(m[3])),!g||1&m[1]||(m[4]=e),!g&&1&m[1]&&(b|=8),!i||4&m[1]||(m[5]=f),j&&Id.apply(m[2]||(m[2]=[]),c),k&&Ld.apply(m[3]||(m[3]=[]),d),m[1]|=b,gb.apply(null,m);var n=1==b||17===b?t:Z;return n([a,b,c,d,e,f])}function hb(a){return ae[a]}function ib(){var b=(b=o.indexOf)===rc?a:b;return b}function jb(a){return"function"==typeof a&&Bd.test(a)}function kb(a){var b,c;return a&&Ad.call(a)==O&&(b=a.constructor,!Db(b)||b instanceof b)?(ge(a,function(a,b){c=b}),"undefined"==typeof c||Hd.call(a,c)):!1}function lb(a){return be[a]}function mb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ad.call(a)==I||!1}function nb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),V(a,b,"function"==typeof c&&Y(c,d,1))}function ob(a,b,c){return V(a,!0,"function"==typeof b&&Y(b,c,1))}function pb(a,b){var c=X(a);return b?ee(c,b):c}function qb(a,b,c){var d;return b=o.createCallback(b,c,3),he(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function rb(a,b,c){var d;return b=o.createCallback(b,c,3),tb(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function sb(a,b,c){var d=[];ge(a,function(a,b){d.push(b,a)});var e=d.length;for(b=Y(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function tb(a,b,c){var d=_d(a),e=d.length;for(b=Y(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function ub(a){var b=[];return ge(a,function(a,c){Db(a)&&b.push(c)}),b.sort()}function vb(a,b){return a?Hd.call(a,b):!1}function wb(a){for(var b=-1,c=_d(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function xb(a){return a===!0||a===!1||a&&"object"==typeof a&&Ad.call(a)==K||!1}function yb(a){return a&&"object"==typeof a&&Ad.call(a)==L||!1}function zb(a){return a&&1===a.nodeType||!1}function Ab(a){var b=!0;if(!a)return b;var c=Ad.call(a),d=a.length;return c==J||c==Q||c==I||c==O&&"number"==typeof d&&Db(a.splice)?!d:(he(a,function(){return b=!1}),b)}function Bb(a,b,c,d){return bb(a,b,"function"==typeof c&&Y(c,d,2))}function Cb(a){return Pd(a)&&!Qd(parseFloat(a))}function Db(a){return"function"==typeof a}function Eb(a){return!(!a||!U[typeof a])}function Fb(a){return Hb(a)&&a!=+a}function Gb(a){return null===a}function Hb(a){return"number"==typeof a||a&&"object"==typeof a&&Ad.call(a)==N||!1}function Ib(a){return a&&"object"==typeof a&&Ad.call(a)==P||!1}function Jb(a){return"string"==typeof a||a&&"object"==typeof a&&Ad.call(a)==Q||!1}function Kb(a){return"undefined"==typeof a}function Lb(a,b,c){var d={};return b=o.createCallback(b,c,3),he(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Mb(a){var b=arguments,c=2;if(!Eb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=Y(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=l(arguments,1,c),f=-1,g=h(),i=h();++f<c;)cb(a,e[f],d,g,i);return j(g),j(i),a}function Nb(a,b,c){var d={};if("function"!=typeof b){var e=[];ge(a,function(a,b){e.push(b)}),e=$(e,ab(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=o.createCallback(b,c,3),ge(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function Ob(a){for(var b=-1,c=_d(a),d=c.length,e=nd(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Pb(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=ab(arguments,!0,!1,1),g=Eb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=o.createCallback(b,c,3),ge(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Qb(a,b,c,d){var e=Zd(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=X(g)}return b&&(b=o.createCallback(b,d,4),(e?Yb:he)(a,function(a,d,e){return b(c,a,d,e)})),c}function Rb(a){for(var b=-1,c=_d(a),d=c.length,e=nd(d);++b<d;)e[b]=a[c[b]];return e}function Sb(a){for(var b=arguments,c=-1,d=ab(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=nd(e);++c<e;)f[c]=a[d[c]];return f}function Tb(a,b,c){var d=-1,e=ib(),f=a?a.length:0,g=!1;return c=(0>c?Sd(0,f+c):c)||0,Zd(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Jb(a)?a.indexOf(b,c):e(a,b,c))>-1:he(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Ub(a,b,c){var d=!0;b=o.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else he(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Vb(a,b,c){var d=[];b=o.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else he(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Wb(a,b,c){b=o.createCallback(b,c,3);var d=-1,e=a?a.length:0;if("number"!=typeof e){var f;return he(a,function(a,c,d){return b(a,c,d)?(f=a,!1):void 0}),f}for(;++d<e;){var g=a[d];if(b(g,d,a))return g}}function Xb(a,b,c){var d;return b=o.createCallback(b,c,3),Zb(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}function Yb(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else he(a,b);return a}function Zb(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_d(a);d=e.length,he(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function $b(a,b){var c=l(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=nd("number"==typeof f?f:0);return Yb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function _b(a,b,c){var d=-1,e=a?a.length:0;if(b=o.createCallback(b,c,3),"number"==typeof e)for(var f=nd(e);++d<e;)f[d]=b(a[d],d,a);else f=[],he(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function ac(a,b,c){var e=-1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=null==b&&Jb(a)?d:o.createCallback(b,c,3),Yb(a,function(a,c,d){var g=b(a,c,d);g>e&&(e=g,f=a)});return f}function bc(a,b,c){var e=1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];f>i&&(f=i)}else b=null==b&&Jb(a)?d:o.createCallback(b,c,3),Yb(a,function(a,c,d){var g=b(a,c,d);e>g&&(e=g,f=a)});return f}function cc(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=o.createCallback(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else he(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function dc(a,b,c,d){var e=arguments.length<3;return b=o.createCallback(b,d,4),Zb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function ec(a,b,c){return b=o.createCallback(b,c,3),Vb(a,function(a,c,d){return!b(a,c,d)})}function fc(a,b,c){if(a&&"number"!=typeof a.length&&(a=Rb(a)),null==b||c)return a?a[db(0,a.length-1)]:n;var d=gc(a);return d.length=Td(Sd(0,b),d.length),d}function gc(a){var b=-1,c=a?a.length:0,d=nd("number"==typeof c?c:0);return Yb(a,function(a){var c=db(0,++b);d[b]=d[c],d[c]=a}),d}function hc(a){var b=a?a.length:0;return"number"==typeof b?b:_d(a).length}function ic(a,b,c){var d;b=o.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else he(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function jc(a,b,c){var d=-1,f=Zd(b),g=a?a.length:0,l=nd("number"==typeof g?g:0);for(f||(b=o.createCallback(b,c,3)),Yb(a,function(a,c,e){var g=l[++d]=i();f?g.criteria=_b(b,function(b){return a[b]}):(g.criteria=h())[0]=b(a,c,e),g.index=d,g.value=a}),g=l.length,l.sort(e);g--;){var m=l[g];l[g]=m.value,f||j(m.criteria),k(m)}return l}function kc(a){return a&&"number"==typeof a.length?l(a):Rb(a)}function lc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function mc(a){return $(a,ab(arguments,!0,!0,1))}function nc(a,b,c){var d=-1,e=a?a.length:0;for(b=o.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function oc(a,b,c){var d=a?a.length:0;for(b=o.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function pc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=o.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:n;return l(a,0,Td(Sd(0,d),e))}function qc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=_b(a,c,d)),ab(a,b)}function rc(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?Sd(0,e+d):d||0}else if(d){var f=Ac(b,c);return b[f]===c?f:-1}return a(b,c,d)}function sc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=o.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return l(a,0,Td(Sd(0,e-d),e))}function tc(){for(var c=[],d=-1,e=arguments.length,g=h(),i=ib(),l=i===a,m=h();++d<e;){var n=arguments[d];(Zd(n)||mb(n))&&(c.push(n),g.push(l&&n.length>=s&&f(d?c[d]:m)))}var o=c[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var t=g[0];if(n=o[p],(t?b(t,n):i(m,n))<0){for(d=e,(t||m).push(n);--d;)if(t=g[d],(t?b(t,n):i(c[d],n))<0)continue a;r.push(n)}}for(;e--;)t=g[e],t&&k(t);return j(g),j(m),r}function uc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=o.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:n;return l(a,Sd(0,e-d))}function vc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Sd(0,d+c):Td(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wc(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Kd.call(a,f--,1),e--);return a}function xc(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Sd(0,Cd((b-a)/(c||1))),f=nd(e);++d<e;)f[d]=a,a+=c;return f}function yc(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=o.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Kd.call(a,d--,1),e--)}return f}function zc(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=o.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:Sd(0,b);return l(a,d)}function Ac(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?o.createCallback(c,d,1):Zc,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function Bc(){return eb(ab(arguments,!0,!0))}function Cc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=o.createCallback(c,d,3)),eb(a,b,c)}function Dc(a){return $(a,l(arguments,1))}function Ec(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zd(c)||mb(c))var d=d?eb($(d,c).concat($(c,d))):c}return d||[]}function Fc(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?ac(me(a,"length")):0,d=nd(0>c?0:c);++b<c;)d[b]=me(a,b);return d}function Gc(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zd(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Hc(a,b){if(!Db(b))throw new wd;return function(){return--a<1?b.apply(this,arguments):void 0}}function Ic(a,b){return arguments.length>2?gb(a,17,l(arguments,2),null,b):gb(a,1,null,null,b)}function Jc(a){for(var b=arguments.length>1?ab(arguments,!0,!1,1):ub(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=gb(a[e],1,null,null,a)}return a}function Kc(a,b){return arguments.length>2?gb(b,19,l(arguments,2),null,a):gb(b,3,null,null,a)}function Lc(){for(var a=arguments,b=a.length;b--;)if(!Db(a[b]))throw new wd;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Mc(a,b){return b="number"==typeof b?b:+b||a.length,gb(a,4,null,null,null,b)}function Nc(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Db(a))throw new wd;if(b=Sd(0,b)||0,c===!0){var o=!0;m=!1}else Eb(c)&&(o=c.leading,l="maxWait"in c&&(Sd(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var p=function(){var c=b-(oe()-g);if(0>=c){e&&Dd(e);var l=j;e=i=j=n,l&&(k=oe(),f=a.apply(h,d),i||e||(d=h=null))}else i=Jd(p,c)},q=function(){i&&Dd(i),e=i=j=n,(m||l!==b)&&(k=oe(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=oe(),h=this,j=m&&(i||!o),l===!1)var c=o&&!i;else{e||o||(k=g);var n=l-(g-k),r=0>=n;r?(e&&(e=Dd(e)),k=g,f=a.apply(h,d)):e||(e=Jd(q,n))}return r&&i?i=Dd(i):i||b===l||(i=Jd(p,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Oc(a){if(!Db(a))throw new wd;var b=l(arguments,1);return Jd(function(){a.apply(n,b)},1)}function Pc(a,b){if(!Db(a))throw new wd;var c=l(arguments,2);return Jd(function(){a.apply(n,c)},b)}function Qc(a,b){if(!Db(a))throw new wd;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):r+arguments[0];return Hd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Rc(a){var b,c;if(!Db(a))throw new wd;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Sc(a){return gb(a,16,l(arguments,1))}function Tc(a){return gb(a,32,null,l(arguments,1))}function Uc(a,b,c){var d=!0,e=!0;if(!Db(a))throw new wd;return c===!1?d=!1:Eb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),S.leading=d,S.maxWait=b,S.trailing=e,Nc(a,b,S)}function Vc(a,b){return gb(b,16,[a])}function Wc(a){return function(){return a}}function Xc(a,b,c){var d=typeof a;if(null==a||"function"==d)return Y(a,b,c);if("object"!=d)return bd(a);var e=_d(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Eb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=bb(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Yc(a){return null==a?"":vd(a).replace(de,hb)}function Zc(a){return a}function $c(a,b,c){var d=!0,e=b&&ub(b);b&&(c||e.length)||(null==c&&(c=b),f=p,b=a,a=o,e=ub(b)),c===!1?d=!1:Eb(c)&&"chain"in c&&(d=c.chain);var f=a,g=Db(f);Yb(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];Id.apply(g,arguments);var h=e.apply(a,g);if(d||b){if(c===h&&Eb(h))return this;h=new f(h),h.__chain__=b}return h})})}function _c(){return c._=zd,this}function ad(){}function bd(a){return function(b){return b[a]}}function cd(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Vd();return Td(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return db(a,b)}function dd(a,b){if(a){var c=a[b];return Db(c)?a[b]():c}}function ed(a,b,c){var d=o.templateSettings;a=vd(a||""),c=fe({},c,d);var e,f=fe({},c.imports,d.imports),h=_d(f),i=Rb(f),j=0,k=c.interpolate||D,l="__p += '",m=ud((c.escape||D).source+"|"+k.source+"|"+(k===B?y:D).source+"|"+(c.evaluate||D).source+"|$","g");a.replace(m,function(b,c,d,f,h,i){return d||(d=f),l+=a.slice(j,i).replace(F,g),c&&(l+="' +\n__e("+c+") +\n'"),h&&(e=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var p=c.variable,q=p;q||(p="obj",l="with ("+p+") {\n"+l+"\n}\n"),l=(e?l.replace(v,""):l).replace(w,"$1").replace(x,"$1;"),l="function("+p+") {\n"+(q?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+H++ +"]")+"\n*/";try{var s=qd(h,"return "+l+r).apply(n,i)}catch(t){throw t.source=l,t}return b?s(b):(s.source=l,s)}function fd(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=nd(a);for(b=Y(b,c,1);++d<a;)e[d]=b(d);return e}function gd(a){return null==a?"":vd(a).replace(ce,lb)}function hd(a){var b=++q;return vd(null==a?"":a)+b}function id(a){return a=new p(a),a.__chain__=!0,a}function jd(a,b){return b(a),a}function kd(){return this.__chain__=!0,this}function ld(){return vd(this.__wrapped__)}function md(){return this.__wrapped__}c=c?_.defaults(W.Object(),c,_.pick(W,G)):W;var nd=c.Array,od=c.Boolean,pd=c.Date,qd=c.Function,rd=c.Math,sd=c.Number,td=c.Object,ud=c.RegExp,vd=c.String,wd=c.TypeError,xd=[],yd=td.prototype,zd=c._,Ad=yd.toString,Bd=ud("^"+vd(Ad).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Cd=rd.ceil,Dd=c.clearTimeout,Ed=rd.floor,Fd=qd.prototype.toString,Gd=jb(Gd=td.getPrototypeOf)&&Gd,Hd=yd.hasOwnProperty,Id=xd.push,Jd=c.setTimeout,Kd=xd.splice,Ld=xd.unshift,Md=function(){try{var a={},b=jb(b=td.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Nd=jb(Nd=td.create)&&Nd,Od=jb(Od=nd.isArray)&&Od,Pd=c.isFinite,Qd=c.isNaN,Rd=jb(Rd=td.keys)&&Rd,Sd=rd.max,Td=rd.min,Ud=c.parseInt,Vd=rd.random,Wd={};Wd[J]=nd,Wd[K]=od,Wd[L]=pd,Wd[M]=qd,Wd[O]=td,Wd[N]=sd,Wd[P]=ud,Wd[Q]=vd,p.prototype=o.prototype;var Xd=o.support={};Xd.funcDecomp=!jb(c.WinRTError)&&E.test(m),Xd.funcNames="string"==typeof qd.name,o.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:B,variable:"",imports:{_:o}},Nd||(X=function(){function a(){}return function(b){if(Eb(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}());var Yd=Md?function(a,b){T.value=b,Md(a,"__bindData__",T)}:ad,Zd=Od||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ad.call(a)==J||!1},$d=function(a){var b,c=a,d=[];if(!c)return d;if(!U[typeof a])return d;for(b in c)Hd.call(c,b)&&d.push(b);return d},_d=Rd?function(a){return Eb(a)?Rd(a):[]}:$d,ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},be=wb(ae),ce=ud("("+_d(be).join("|")+")","g"),de=ud("["+_d(ae).join("")+"]","g"),ee=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=Y(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&U[typeof e])for(var k=-1,l=U[typeof e]&&_d(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},fe=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&U[typeof e])for(var j=-1,k=U[typeof e]&&_d(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},ge=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!U[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},he=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!U[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(var g=-1,h=U[typeof e]&&_d(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},ie=Gd?function(a){if(!a||Ad.call(a)!=O)return!1;var b=a.valueOf,c=jb(b)&&(c=Gd(b))&&Gd(c);return c?a==c||Gd(a)==c:kb(a)}:kb,je=fb(function(a,b,c){Hd.call(a,c)?a[c]++:a[c]=1}),ke=fb(function(a,b,c){(Hd.call(a,c)?a[c]:a[c]=[]).push(b)}),le=fb(function(a,b,c){a[c]=b}),me=_b,ne=Vb,oe=jb(oe=pd.now)&&oe||function(){return(new pd).getTime()},pe=8==Ud(u+"08")?Ud:function(a,b){return Ud(Jb(a)?a.replace(C,""):a,b||0)};return o.after=Hc,o.assign=ee,o.at=Sb,o.bind=Ic,o.bindAll=Jc,o.bindKey=Kc,o.chain=id,o.compact=lc,o.compose=Lc,o.constant=Wc,o.countBy=je,o.create=pb,o.createCallback=Xc,o.curry=Mc,o.debounce=Nc,o.defaults=fe,o.defer=Oc,o.delay=Pc,o.difference=mc,o.filter=Vb,o.flatten=qc,o.forEach=Yb,o.forEachRight=Zb,o.forIn=ge,o.forInRight=sb,o.forOwn=he,o.forOwnRight=tb,o.functions=ub,o.groupBy=ke,o.indexBy=le,o.initial=sc,o.intersection=tc,o.invert=wb,o.invoke=$b,o.keys=_d,o.map=_b,o.mapValues=Lb,o.max=ac,o.memoize=Qc,o.merge=Mb,o.min=bc,o.omit=Nb,o.once=Rc,o.pairs=Ob,o.partial=Sc,o.partialRight=Tc,o.pick=Pb,o.pluck=me,o.property=bd,o.pull=wc,o.range=xc,o.reject=ec,o.remove=yc,o.rest=zc,o.shuffle=gc,o.sortBy=jc,o.tap=jd,o.throttle=Uc,o.times=fd,o.toArray=kc,o.transform=Qb,o.union=Bc,o.uniq=Cc,o.values=Rb,o.where=ne,o.without=Dc,o.wrap=Vc,o.xor=Ec,o.zip=Fc,o.zipObject=Gc,o.collect=_b,o.drop=zc,o.each=Yb,o.eachRight=Zb,o.extend=ee,o.methods=ub,o.object=Gc,o.select=Vb,o.tail=zc,o.unique=Cc,o.unzip=Fc,$c(o),o.clone=nb,o.cloneDeep=ob,o.contains=Tb,o.escape=Yc,o.every=Ub,o.find=Wb,o.findIndex=nc,o.findKey=qb,o.findLast=Xb,o.findLastIndex=oc,o.findLastKey=rb,o.has=vb,o.identity=Zc,o.indexOf=rc,o.isArguments=mb,o.isArray=Zd,o.isBoolean=xb,o.isDate=yb,o.isElement=zb,o.isEmpty=Ab,o.isEqual=Bb,o.isFinite=Cb,o.isFunction=Db,o.isNaN=Fb,o.isNull=Gb,o.isNumber=Hb,o.isObject=Eb,o.isPlainObject=ie,o.isRegExp=Ib,o.isString=Jb,o.isUndefined=Kb,o.lastIndexOf=vc,o.mixin=$c,o.noConflict=_c,o.noop=ad,o.now=oe,o.parseInt=pe,o.random=cd,o.reduce=cc,o.reduceRight=dc,o.result=dd,o.runInContext=m,o.size=hc,o.some=ic,o.sortedIndex=Ac,o.template=ed,o.unescape=gd,o.uniqueId=hd,o.all=Ub,o.any=ic,o.detect=Wb,o.findWhere=Wb,o.foldl=cc,o.foldr=dc,o.include=Tb,o.inject=cc,$c(function(){var a={};return he(o,function(b,c){o.prototype[c]||(a[c]=b)}),a}(),!1),o.first=pc,o.last=uc,o.sample=fc,o.take=pc,o.head=pc,he(o,function(a,b){var c="sample"!==b;o.prototype[b]||(o.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new p(f,e):f})}),o.VERSION="2.4.1",o.prototype.chain=kd,o.prototype.toString=ld,o.prototype.value=md,o.prototype.valueOf=md,Yb(["join","pop","shift"],function(a){var b=xd[a];o.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new p(c,a):c}}),Yb(["push","reverse","sort","unshift"],function(a){var b=xd[a];o.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Yb(["concat","slice","splice"],function(a){var b=xd[a];o.prototype[a]=function(){return new p(b.apply(this.__wrapped__,arguments),this.__chain__)}}),o}var n,o=[],p=[],q=0,r=+new Date+"",s=75,t=40,u=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",v=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,z=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,B=/<%=([\s\S]+?)%>/g,C=RegExp("^["+u+"]*0+(?=.$)"),D=/($^)/,E=/\bthis\b/,F=/['\n\r\t\u2028\u2029\\]/g,G=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],H=0,I="[object Arguments]",J="[object Array]",K="[object Boolean]",L="[object Date]",M="[object Function]",N="[object Number]",O="[object Object]",P="[object RegExp]",Q="[object String]",R={};R[M]=!1,R[I]=R[J]=R[K]=R[L]=R[N]=R[O]=R[P]=R[Q]=!0;var S={leading:!1,maxWait:0,trailing:!1},T={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},V={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},W=U[typeof window]&&window||this,X=U[typeof exports]&&exports&&!exports.nodeType&&exports,Y=U[typeof module]&&module&&!module.nodeType&&module,Z=Y&&Y.exports===X&&X,$=U[typeof global]&&global;!$||$.global!==$&&$.window!==$||(W=$);var _=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(W._=_,define(function(){return _})):X&&Y?Z?(Y.exports=_)._=_:X._=_:W._=_}).call(this),function(){var a=this,b=function(){"use strict";function b(){}function c(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function d(a,b){return c(b,function(c){a[c]=b[c]}),a}function e(a,b){c(b,function(c){void 0===a[c]&&(a[c]=b[c])})}function f(a,b,c,d,e,f,h){var i,j=f>a?0:(a-f)/e;for(i in b)b.hasOwnProperty(i)&&(b[i]=g(c[i],d[i],l[h[i]],j));return b}function g(a,b,c,d){return a+(b-a)*c(d)}function h(a,b){var d=k.prototype.filter,e=a._filterArgs;c(d,function(c){void 0!==d[c][b]&&d[c][b].apply(a,e)})}function i(a,b,c,d,e,g,i,j,k,l,m){s=b+c+d,t=Math.min(m||r(),s),u=t>=s,v=d-(s-t),a.isPlaying()&&!u?(a._scheduleId=l(a._timeoutHandler,p),h(a,"beforeTween"),b+c>t?f(1,e,g,i,1,1,j):f(t,e,g,i,d,b+c,j),h(a,"afterTween"),k(e,a._attachment,v)):u&&(k(i,a._attachment,v),a.stop(!0))}function j(a,b){var d={};return"string"==typeof b?c(a,function(a){d[a]=b}):c(a,function(a){d[a]||(d[a]=b[a]||n)}),d}function k(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=m,void 0!==b&&this.setConfig(b)}var l,m,n="linear",o=500,p=1e3/60,q=Date.now?Date.now:function(){return+new Date},r="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:q;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var s,t,u,v;return k.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._timestamp=r(),this._start(this.get(),this._attachment),this.resume())},k.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._attachment=a.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=a.delay||0,this._start=a.start||b,this._step=a.step||b,this._finish=a.finish||b,this._duration=a.duration||o,this._currentState=d({},a.from)||this.get(),this._originalState=this.get(),this._targetState=d({},a.to)||this.get();var c=this;this._timeoutHandler=function(){i(c,c._timestamp,c._delay,c._duration,c._currentState,c._originalState,c._targetState,c._easing,c._step,c._scheduleFunction)};var f=this._currentState,g=this._targetState;return e(g,f),this._easing=j(f,a.easing||n),this._filterArgs=[f,this._originalState,g,this._easing],h(this,"tweenCreated"),this},k.prototype.get=function(){return d({},this._currentState)},k.prototype.set=function(a){this._currentState=a},k.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},k.prototype.resume=function(){return this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},k.prototype.seek=function(a){a=Math.max(a,0);var b=r();return 0===this._timestamp+a?this:(this._timestamp=b-a,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,i(this,this._timestamp,this._duration,this._delay,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,b),this.pause()),this)},k.prototype.stop=function(c){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=b,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),c&&(d(this._currentState,this._targetState),h(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused
},k.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},k.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},k.prototype.filter={},k.prototype.formula={linear:function(a){return a}},l=k.prototype.formula,d(k,{now:r,each:c,tweenProps:f,tweenProp:g,applyFilter:h,shallowCopy:d,defaults:e,composeEasingObject:j}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=i),"object"==typeof exports?module.exports=k:"function"==typeof define&&define.amd?define(function(){return k}):void 0===a.Tweenable&&(a.Tweenable=k),k}();!function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin(2*(6*a-1)*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})}(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;8>j;j++){if(f=g(e)-a,b>l(f))return e;if(h=i(e),1e-6>l(h))break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),b>l(f-a))return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function c(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}b.setBezierFunction=function(a,d,e,f,g){var h=c(d,e,f,g);return h.displayName=a,h.x1=d,h.y1=e,h.x2=f,h.y2=g,b.prototype.formula[a]=h},b.unsetBezierFunction=function(a){delete b.prototype.formula[a]}}(),function(){function a(a,c,d,e,f,g){return b.tweenProps(e,c,a,d,1,g,f)}var c=new b;c._filterArgs=[],b.interpolate=function(d,e,f,g,h){var i=b.shallowCopy({},d),j=h||0,k=b.composeEasingObject(d,g||"linear");c.set({});var l=c._filterArgs;l.length=0,l[0]=i,l[1]=d,l[2]=e,l[3]=k,b.applyFilter(c,"tweenCreated"),b.applyFilter(c,"beforeTween");var m=a(d,i,e,f,k,j);return b.applyFilter(c,"afterTween"),m}}(),function(a){function b(a,b){var c,d=[],e=a.length;for(c=0;e>c;c++)d.push("_"+b+"_"+c);return d}function c(a){var b=a.match(v);return b?(1===b.length||a[0].match(u))&&b.unshift(""):b=["",""],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];"string"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function g(a){return a=a.replace(/#/,""),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),B[0]=h(a.substr(0,2)),B[1]=h(a.substr(2,2)),B[2]=h(a.substr(4,2)),B}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;g>h;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;c>e;e++)d+=parseInt(b[e],10)+",";return d=d.slice(0,-1)+")"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if("string"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;f>g;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;e>f;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){C.length=0;for(var c=b.length,d=0;c>d;d++)C.push(a[b[d]]);return C}function q(a,b){for(var c=a,d=b.length,e=0;d>e;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){for(var d=c[a],e=d.chunkNames,f=e.length,g=b[a].split(" "),h=g[g.length-1],i=0;f>i;i++)b[e[i]]=g[i]||h;delete b[a]})}function t(b,c){a.each(c,function(a){for(var d=c[a],e=d.chunkNames,f=e.length,g="",h=0;f>h;h++)g+=" "+b[e[h]],delete b[e[h]];b[a]=g.substr(1)})}var u=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,x=RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),y=/^.*\(/,z=/#([0-9]|[a-f]){3,6}/gi,A="VAL",B=[],C=[];a.prototype.filter.token={tweenCreated:function(a,b,c){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(b)}.call(null),function(a){function b(a,b,c,d){c.each(a._events[b],function(b){b(a,d)})}function c(a,b){var c=[];b.each(a._actors,function(a){c.push(a.getEnd())}),a._animationLength=Math.max.apply(Math,c)}function d(){}var e=[],f=function(d,e,f){"use strict";function g(a,b){var c=a._animationLength;if(0===c)return b;var d=Math.floor(b/c);return d}function h(a){return t()-a._loopTimestamp}function i(a,b){return b>=a._timesToIterate&&-1!==a._timesToIterate}function j(a,c){i(a,c)&&(a.stop(),b(a,"animationComplete",e))}function k(a,b,c){var d,e=a._animationLength;return 0===e?0:d=i(a,c)?e:b%e}function l(a,c){var d=0,f=0;f=g(a,c),d=k(a,c,f),a._loopPosition=d;var h=[];if(f>a._latestIteration){b(a,"animationLooped",e);var i={name:"function"};e.each(a._actors,function(a){var b=e.where(a._keyframeProperties,i),c=e.last(b);c&&!c.hasFired&&c.invoke(),h=h.concat(b)})}a._latestIteration=f,a.update(d),j(a,f),e.each(h,function(a){a.hasFired=!1})}function m(a){l(a,h(a))}function n(b){b._loopId=b._scheduleUpdate.call?b._scheduleUpdate.call(a,b._updateFn,s):setTimeout(b._updateFn,s)}function o(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||a.mozCancelRequestAnimationFrame&&a.mozRequestAnimationFrame||a.setTimeout}function p(){return a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout}function q(b){b._cancelUpdate.call?b._cancelUpdate.call(a,b._loopId):clearTimeout(b._loopId)}function r(a){return this.context=a||{},this._actors={},this._playState=u.STOPPED,this._events={animationComplete:[],playStateChange:[],play:[],pause:[],stop:[],beforeUpdate:[],afterUpdate:[],addActor:[],removeActor:[],addKeyframeProperty:[],removeKeyframeProperty:[],addKeyframePropertyTrack:[],timelineModified:[],animationLooped:[]},this._timesToIterate=-1,this._animationLength=0,this._loopId=null,this._loopTimestamp=null,this._pausedAtTime=null,this._lastUpdatedMillisecond=0,this._latestIteration=0,this._loopPosition=null,this._scheduleUpdate=o(),this._cancelUpdate=p(),this._updateFn=e.bind(function(){n(this),m(this)},this),e.each(r._rendererInitHook,function(a){a(this)},this),this}var s=1e3/60,t=f.now,u={STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing"};r.Tweenable=f,r._=e,r._rendererInitHook={},r.prototype.addActor=function(a){var d;return d=a instanceof r.Actor?a:new r.Actor(a),e.contains(this._actors,d)||("undefined"==typeof d.context&&(d.context=this.context),d.rekapi=this,this._actors[d.id]=d,c(this,e),d.setup(),b(this,"addActor",e,d)),d},r.prototype.getActor=function(a){return this._actors[a]},r.prototype.getActorIds=function(){return e.pluck(this._actors,"id")},r.prototype.getAllActors=function(){return e.clone(this._actors)},r.prototype.getActorCount=function(){return e.size(this._actors)},r.prototype.removeActor=function(a){return delete this._actors[a.id],delete a.rekapi,a.teardown(),c(this,e),b(this,"removeActor",e,a),a},r.prototype.removeAllActors=function(){return e.map(this.getAllActors(),this.removeActor,this)},r.prototype.play=function(a){return q(this),this._playState===u.PAUSED?this._loopTimestamp+=t()-this._pausedAtTime:this._loopTimestamp=t(),this._timesToIterate=a||-1,this._playState=u.PLAYING,n(this),b(this,"playStateChange",e),b(this,"play",e),this},r.prototype.playFrom=function(a,b){return this.play(b),this._loopTimestamp=t()-a,this},r.prototype.playFromCurrent=function(a){return this.playFrom(this._lastUpdatedMillisecond,a)},r.prototype.pause=function(){return this._playState===u.PAUSED?this:(this._playState=u.PAUSED,q(this),this._pausedAtTime=t(),b(this,"playStateChange",e),b(this,"pause",e),this)},r.prototype.stop=function(){return this._playState=u.STOPPED,q(this),e.each(this._actors,function(a){a.stop()}),b(this,"playStateChange",e),b(this,"stop",e),this},r.prototype.isPlaying=function(){return this._playState===u.PLAYING},r.prototype.update=function(a){return void 0===a&&(a=this._lastUpdatedMillisecond),b(this,"beforeUpdate",e),e.each(this._actors,function(b){b._updateState(a),"function"==typeof b.render&&b.render(b.context,b.get())}),this._lastUpdatedMillisecond=a,b(this,"afterUpdate",e),this},r.prototype.getLastPositionUpdated=function(){return this._lastUpdatedMillisecond/this._animationLength},r.prototype.getAnimationLength=function(){return this._animationLength},r.prototype.on=function(a,b){return this._events[a]?(this._events[a].push(b),this):void 0},r.prototype.off=function(a,b){return this._events[a]?(this._events[a]=b?e.without(this._events[a],b):[],this):void 0},r.prototype.exportTimeline=function(){var a={duration:this._animationLength,actors:[]};e.each(this._actors,function(b){a.actors.push(b.exportTimeline())},this);var b={};return e.chain(f.prototype.formula).filter(function(a){return"number"==typeof a.x1}).each(function(a){b[a.displayName]=e.pick(a,"x1","y1","x2","y2")}),a.curves=b,a},r.prototype.importTimeline=function(a){e.each(a.curves,function(a,b){f.setBezierFunction(b,a.x1,a.y1,a.x2,a.y2)}),e.each(a.actors,function(a){var b=new r.Actor;b.importTimeline(a),this.addActor(b)},this)},r.nonCustomFormulaNames=e.keys(f.prototype.formula),r.util={},d.Rekapi=r};e.push(function(a){"use strict";function e(a){return a.sort(function(a,b){return a-b})}function f(a,c){a.rekapi&&b(a.rekapi,c,r)}function g(a,b){var c,d=a._timelinePropertyCacheKeys,e=d.length;if(1===e)return 0;for(c=1;e>c;c++)if(d[c]>=b)return c-1;return-1}function h(a){r.each(a._propertyTracks,function(a){a.sort(function(a,b){return a.millisecond-b.millisecond})})}function i(a){r.each(a._timelinePropertyCache,function(b,c){var d=j(a,c);r.defaults(b,d)})}function j(a,b){var c={};return r.each(a._propertyTracks,function(a,d){var e,f=a[0]||null,g=0,h=a.length;for(g;h>g&&(e=a[g],e.millisecond>b?c[d]=f:e.millisecond===b&&(c[d]=e),f=e,!c[d]);g++);if(!c[d]){var i=r.last(a);i&&i.millisecond<=b&&(c[d]=i)}}),c}function k(a){r.each(a._propertyTracks,function(a){r.each(a,function(b,c){b.linkToNext(a[c+1])})})}function l(a,b,c){return r.findWhere(a._propertyTracks[b],{millisecond:c})}function m(a){a._timelinePropertyCache={};var b,c=a._timelinePropertyCache;r.each(a._keyframeProperties,function(a){b=a.millisecond,c[b]||(c[b]={}),c[b][a.name]=a}),a._timelinePropertyCacheKeys=r.map(c,function(a,b){return+b}),e(a._timelinePropertyCacheKeys),i(a),k(a)}function n(a){h(a),m(a),c(a.rekapi,r),f(a,"timelineModified")}var o="linear",p=a.Rekapi,q=p.Tweenable,r=p._;p.Actor=function(a){return a=a||{},q.call(this),r.extend(this,{_propertyTracks:{},_timelinePropertyCache:{},_timelinePropertyCacheKeys:[],_keyframeProperties:{},id:r.uniqueId(),context:a.context,setup:a.setup||d,render:a.render||d,teardown:a.teardown||d,data:{}}),this};var s=p.Actor,t=function(){};t.prototype=q.prototype,s.prototype=new t,s.prototype.keyframe=function(a,b,d){b instanceof Function&&(b={"function":b}),d=d||o;var e,g=q.composeEasingObject(b,d);return r.each(b,function(b,c){e=new p.KeyframeProperty(a,c,b,g[c]),this._addKeyframeProperty(e)},this),this.rekapi&&c(this.rekapi,r),m(this),f(this,"timelineModified"),this},s.prototype.hasKeyframeAt=function(a,b){var c=this._propertyTracks;if(b){if(!r.has(c,b))return!1;c=r.pick(c,b)}var d;for(d in c)if(c.hasOwnProperty(d)&&l(this,d,a))return!0;return!1},s.prototype.copyKeyframe=function(a,b){var c={},d={};return r.each(this._propertyTracks,function(a,e){var f=l(this,e,b);f&&(c[e]=f.value,d[e]=f.easing)},this),this.keyframe(a,c,d),this},s.prototype.moveKeyframe=function(a,b){return!this.hasKeyframeAt(a)||this.hasKeyframeAt(b)?!1:(r.each(this._propertyTracks,function(c,d){var e=l(this,d,a);e&&(e.millisecond=b)},this),n(this),!0)},s.prototype.modifyKeyframe=function(a,b,c){return c=c||{},r.each(this._propertyTracks,function(d,e){var f=l(this,e,a);f&&f.modifyWith({value:b[e],easing:c[e]})},this),n(this),this},s.prototype.removeKeyframe=function(a){var b=this._propertyTracks;return r.each(this._propertyTracks,function(c,d){var e=r.findWhere(c,{millisecond:a});e&&(b[d]=r.without(c,e),e.detach())},this),this.rekapi&&c(this.rekapi,r),m(this),f(this,"timelineModified"),this},s.prototype.removeAllKeyframes=function(){return r.each(this._propertyTracks,function(a){a.length=0}),r.each(this._keyframeProperties,function(a){a.detach()},this),this._keyframeProperties={},this.removeKeyframe(0)},s.prototype.getKeyframeProperty=function(a,b){var c=this._propertyTracks[a];return c?r.findWhere(c,{millisecond:b}):void 0},s.prototype.modifyKeyframeProperty=function(a,b,c){var d=this.getKeyframeProperty(a,b);return d&&(d.modifyWith(c),n(this)),this},s.prototype.removeKeyframeProperty=function(a,b){var c=this._propertyTracks;if("undefined"!=typeof c[a]){var d=this.getKeyframeProperty(a,b);return c[a]=r.without(c[a],d),d.detach(),n(this),d}},s.prototype.getTrackNames=function(){return r.keys(this._propertyTracks)},s.prototype.getPropertiesInTrack=function(a){var b=this._propertyTracks[a];return b?b.slice(0):void 0},s.prototype.getStart=function(a){var b=[],c=this._propertyTracks;if(c.hasOwnProperty(a)){var d=c[a][0];d&&b.push(d.millisecond)}else r.each(c,function(a){a.length&&b.push(a[0].millisecond)});0===b.length&&(b=[0]);var e;return e=b.length>0?Math.min.apply(Math,b):0},s.prototype.getEnd=function(a){var b=0,c=this._propertyTracks;return a&&(c={},c[a]=this._propertyTracks[a]),r.each(c,function(a){if(a.length){var c=r.last(a).millisecond;c>b&&(b=c)}},this),b},s.prototype.getLength=function(a){return this.getEnd(a)-this.getStart(a)},s.prototype.wait=function(a){var b=this.getEnd();if(b>=a)return this;var c=this.getEnd(),d=j(this,this.getEnd()),e={},f={};return r.each(d,function(a,b){e[b]=a.value,f[b]=a.easing}),this.removeKeyframe(c),this.keyframe(c,e,f),this.keyframe(a,e,f),this},s.prototype._addKeyframeProperty=function(a){a.actor=this,this._keyframeProperties[a.id]=a;var c=a.name,d=this._propertyTracks;return"undefined"==typeof this._propertyTracks[c]?(d[c]=[a],this.rekapi&&b(this.rekapi,"addKeyframePropertyTrack",r,a)):d[c].push(a),h(this),this.rekapi&&b(this.rekapi,"addKeyframeProperty",r,a),this},s.prototype._updateState=function(a){var b=this.getStart(),c=this.getEnd(),e={};a=Math.min(c,a);var f=g(this,a),h=this._timelinePropertyCache[this._timelinePropertyCacheKeys[f]];return b===c?r.each(h,function(b,c){return b.shouldInvokeForMillisecond(a)?(b.invoke(),void(b.hasFired=!1)):void(e[c]=b.value)},this):r.each(h,function(b,c){return this._beforeKeyframePropertyInterpolate!==d&&this._beforeKeyframePropertyInterpolate(b),b.shouldInvokeForMillisecond(a)?void b.invoke():(e[c]=b.getValueAt(a),void(this._afterKeyframePropertyInterpolate!==d&&this._afterKeyframePropertyInterpolate(b,e)))},this),this.set(e),this},s.prototype._beforeKeyframePropertyInterpolate=d,s.prototype._afterKeyframePropertyInterpolate=d,s.prototype.exportTimeline=function(){var a={start:this.getStart(),end:this.getEnd(),trackNames:this.getTrackNames(),propertyTracks:{}};return r.each(this._propertyTracks,function(b,c){var d=a.propertyTracks[c]=[];r.each(b,function(a){d.push(a.exportPropertyData())})}),a},s.prototype.importTimeline=function(a){r.each(a.propertyTracks,function(a){r.each(a,function(a){var b={};b[a.name]=a.value,this.keyframe(a.millisecond,b,a.easing)},this)},this)}}),e.push(function(a){"use strict";var c="linear",d=a.Rekapi,e=d.Tweenable,f=d._,g=e.interpolate;d.KeyframeProperty=function(a,b,d,e){return this.id=f.uniqueId("keyframeProperty_"),this.millisecond=a,this.name=b,this.value=d,this.hasFired=null,this.easing=e||c,this.nextProperty=null,this};var h=d.KeyframeProperty;h.prototype.modifyWith=function(a){var b={};f.each(["millisecond","easing","value"],function(c){b[c]="undefined"==typeof a[c]?this[c]:a[c]},this),f.extend(this,b)},h.prototype.getValueAt=function(a){var b,c={},d={},e=this.nextProperty,f=Math.max(a,this.millisecond);if(e){f=Math.min(f,e.millisecond),c[this.name]=this.value,d[this.name]=e.value;var h=e.millisecond-this.millisecond,i=(f-this.millisecond)/h;b=g(c,d,i,e.easing)[this.name]}else b=this.value;return b},h.prototype.linkToNext=function(a){this.nextProperty=a||null},h.prototype.detach=function(){var a=this.actor;return a&&a.rekapi&&(b(a.rekapi,"removeKeyframeProperty",f,this),delete a._keyframeProperties[this.id],this.actor=null),this},h.prototype.exportPropertyData=function(){return{millisecond:this.millisecond,name:this.name,value:this.value,easing:this.easing}},h.prototype.shouldInvokeForMillisecond=function(a){return a>=this.millisecond&&"function"===this.name&&!this.hasFired},h.prototype.invoke=function(){var a=this.actor.rekapi._loopPosition-this.millisecond,b=this.value.call(this.actor,a);return this.hasFired=!0,b}}),e.push(function(a){"use strict";function c(a,b,c){return"undefined"!=typeof c&&(a[b]=c,a.style[b]=c+"px"),a[b]}function d(a){a.clear()}function e(a,c){b(a,"beforeRender",i);var d,e=c._renderOrderSorter,f=c._renderOrder.length;if(e){var g=i.sortBy(c._canvasActors,e);d=i.pluck(g,"id")}else d=c._renderOrder;var h,j,k=c._canvasActors;for(j=0;f>j;j++)h=k[d[j]],h.render(h.context,h.get());return b(a,"afterRender",i),a}function f(a,b){b._renderOrder.push(a.id),b._canvasActors[a.id]=a}function g(a,b){b._renderOrder=i.without(b._renderOrder,a.id),delete b._canvasActors[a.id]}var h=a.Rekapi,i=h._;h._rendererInitHook.canvas=function(a){"undefined"!=typeof CanvasRenderingContext2D&&a.context instanceof CanvasRenderingContext2D&&(a.renderer=new j(a))},h.CanvasRenderer=function(a,b){this.rekapi=a,this.canvasContext=b||a.context,this._renderOrder=[],this._renderOrderSorter=null,this._canvasActors={},i.extend(a._events,{beforeRender:[],afterRender:[]});var c=this;return a.on("afterUpdate",function(){e(a,c)}),a.on("addActor",function(a,b){f(b,c)}),a.on("removeActor",function(a,b){g(b,c)}),a.on("beforeRender",function(){d(c)}),this};var j=h.CanvasRenderer;j.prototype.height=function(a){return c(this.canvasContext.canvas,"height",a)},j.prototype.width=function(a){return c(this.canvasContext.canvas,"width",a)},j.prototype.clear=function(){return this.canvasContext.clearRect(0,0,this.width(),this.height()),this.rekapi},j.prototype.moveActorToLayer=function(a,b){return b<this._renderOrder.length&&b>-1&&(this._renderOrder=i.without(this._renderOrder,a.id),this._renderOrder.splice(b,0,a.id)),a},j.prototype.setOrderFunction=function(a){return this._renderOrderSorter=a,this.rekapi},j.prototype.unsetOrderFunction=function(){return this._renderOrderSorter=null,this.rekapi}}),e.push(function(a){"use strict";function c(a){return a%1===0}function d(){var a=document.body.style;return"-webkit-animation"in a?"webkit":"-moz-animation"in a?"mozilla":"-ms-animation"in a?"microsoft":"-o-animation"in a?"opera":"animation"in a?"w3":""}function e(a,b){var c=document.createElement("style"),d="rekapi-"+V++;return c.id=d,c.innerHTML=b,document.head.appendChild(c),f(a),c}function f(a){var b=document.createElement("div");P.each(a.getAllActors(),function(a){if(1===a.context.nodeType){var c=a.context,d=c.parentElement;d.replaceChild(b,c),d.replaceChild(c,b)}}),b=null}function g(a,b,c){a.style[b]=c}function h(a){return P.contains(S,a)}function i(a,b){var c=[];return P.each(a,function(a){b[a]&&c.push(a+"("+b[a]+")")}),c.join(" ")}function j(a,b){P.each(R,function(c){g(a,c,b)})}function k(a,b){var c=b.context;if(1===c.nodeType){var d=W.getActorClassName(b);c.className.match(d)||(c.className+=" "+d),b._transformOrder=S.slice(0),b._beforeKeyframePropertyInterpolate=l,b._afterKeyframePropertyInterpolate=m,b.render=P.bind(n,b,b),b.teardown=P.bind(o,b,b)}}function l(a){if("transform"===a.name){var b=a.value,c=a.nextProperty;c&&b.match(/3d\(/g)&&(a.value=b.replace(/3d\(/g,"__THREED__"),c.value=c.value.replace(/3d\(/g,"__THREED__"))}}function m(a,b){if("transform"===a.name){var c=a.value,d=a.nextProperty;if(d&&c.match(/__THREED__/g)){a.value=c.replace(/__THREED__/g,"3d("),d.value=d.value.replace(/__THREED__/g,"3d(");var e=a.name;b[e]=b[e].replace(/__THREED__/g,"3d(")}}}function n(a,b,c){var d=P.keys(c),e=P.filter(d,h),f=P.reject(d,h),k=P.pick(c,f);if(e.length){var l=P.pick(c,e),m=i(a._transformOrder,l);j(b,m)}else c.transform&&j(b,c.transform);P.each(k,function(a,c){g(b,c,a)})}function o(a){var b=a.context,c=b.className.match(/\S+/g),d=P.without(c,W.getActorClassName(a));b.className=d.join(" ")}function p(a,b){b=b||{};var c=[],d=b.name||W.getActorClassName(a),e=b.fps||X,f=Math.ceil(a.rekapi.getAnimationLength()/1e3*e),g=!E(a),h=t(a,d,g,b.vendors,b.iterations,b.isCentered),i=q(a,d,f,g,b.vendors);return c.push(h),c.push(i),c.join("\n")}function q(a,b,c,d,e){var f=a.getTrackNames(),g=[];d?g.push(H(a,c)):P.each(f,function(b){g.push(G(a,c,b))});var h=[];return d?h.push(r(g[0],b,e)):P.each(f,function(a,c){h.push(r(g[c],b+"-"+a,e))}),h=h.join("\n")}function r(a,b,c){c=c||["w3"];var d=[];return P.each(c,function(c){var e=U(ab,[$[c],b,a]),f=s(e,c);d.push(f)}),d.join("\n")}function s(a,b){var c=new RegExp(Y,"g"),d=$[b]+"transform",e=new RegExp(Z,"g"),f=$[b],g=a.replace(e,f).replace(c,d);return g}function t(a,b,c,d,e,f){d=d||["w3"];var g,h=[];P.each(d,function(d){g=u(a,b,d,c,e,f),h.push(g)});var i=U(bb,[b,h.join("\n")]);return i}function u(a,b,c,d,e,f){var g=[],h=$[c];return g.push(v(a,b,h,d)),g.push(w(a,h)),g.push(x(a,h)),g.push(y(h)),g.push(z(h)),g.push(A(a.rekapi,h,e)),f&&g.push(B(h)),g.join("\n")}function v(a,b,c,d){var e=U("  %sanimation-name:",[c]),f=a.getTrackNames();return d?e+=U(" %s-keyframes;",[b]):(P.each(f,function(a){e+=U(" %s-%s-keyframes,",[b,a])}),e=e.slice(0,e.length-1),e+=";"),e}function w(a,b){return U("  %sanimation-duration: %sms;",[b,a.getEnd()-a.getStart()])}function x(a,b){return U("  %sanimation-delay: %sms;",[b,a.getStart()])}function y(a){return U("  %sanimation-fill-mode: forwards;",[a])}function z(a){return U("  %sanimation-timing-function: linear;",[a])}function A(a,b,c){var d;d=c?c:-1===a._timesToIterate?"infinite":a._timesToIterate;var e="  %sanimation-iteration-count: %s;";return U(e,[b,d])}function B(a){return U("  %stransform-origin: 0 0;",[a])}function C(a){var b=!1,c=a.nextProperty;if(c){if(D(a,c))return!0;var d,e=c.easing.split(" "),f=0,g=e.length,h=e[0];for(f;g>f;f++){if(d=e[f],!_[d]||h!==d){b=!1;break}b=!0,h=d}}return b}function D(a,b){return a.name===b.name&&a.value===b.value?!0:!1}function E(a){return P.any(a._keyframeProperties,C)}function F(a,b,d){var e=[],f=a.name;"transform"===a.name&&(f=Y);var g=_[a.nextProperty.easing.split(" ")[0]],h=U("cubic-bezier(%s)",[g]),i=c(b)?b:b.toFixed(2),j=c(d)?d:d.toFixed(2);return e.push(U("  %s% {%s:%s;%sanimation-timing-function: %s;}",[i,f,a.value,Z,h])),e.push(U("  %s% {%s:%s;}",[j,f,a.nextProperty.value])),e.join("\n")}function G(a,b,c){var d=[],e=a.getEnd(),f=a.getStart(),g=a.getLength(),h=I(a,c,f);h&&d.push(h);var i=!1;P.each(a._propertyTracks[c],function(c){var e,h,j,k=K(c,f,g),l=c.nextProperty;if(l){e=K(l,f,g);var m=e-k;h=Math.floor(m/100*b)||1,j=m/h}else e=100,h=1,j=1;var n;if(l&&D(c,l))n=M(a,f,c,l,k,e),i&&n.shift(),i=!1;else if(C(c)){if(n=F(c,k,e),i){var o=d.length,p=d[o-1],q=p.split("\n")[0];d[o-1]=q}i=!0}else n=L(a,h,j,f,k,c),i&&n.shift(),n.length&&(n=n.join("\n")),i=!1;n.length&&d.push(n)});var j=J(a,c,f,e);return j&&d.push(j),d.join("\n")}function H(a,b){return L(a,b+1,100/b,0,0).join("\n")}function I(a,b,c){var d=a._propertyTracks[b][0];if("undefined"!=typeof d&&d.millisecond!==c){var e=L(a,1,1,d.millisecond,0,d);return e.join("\n")}}function J(a,b,c,d){var e=P.last(a._propertyTracks[b]);if("undefined"!=typeof e&&e.millisecond!==d){var f=L(a,1,1,c,100,e);return f.join("\n")}}function K(a,b,c){return(a.millisecond-b)/c*100}function L(a,b,c,d,e,f){var g,h,i,j=[],k=a.getLength();for(g=0;b>g;g++)h=e+g*c,a._updateState(h/100*k+d),i=+h.toFixed(2)+"% ",j.push(f?"  "+i+N(a,f.name):"  "+i+N(a));return j}function M(a,b,c,d,e,f){var g=L(a,1,f-e,b,e,c);return g}function N(a,b){var c,d=["{"];if(b){c={};var e=a.get()[b];"undefined"!=typeof e&&(c[b]=e)}else c=a.get();var f;return P.each(c,function(a,b){f=a;var c=b;"transform"===b&&(c=Y),d.push(c+":"+f+";")}),d.push("}"),d.join("")}var O=a.Rekapi,P=O._,Q=O.Tweenable.now,R=["transform","webkitTransform","MozTransform","oTransform","msTransform"],S=["translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","skewX","skewY"],T=250,U=function(a,b){var c=a;return P.each(b,function(a){c=c.replace("%s",a)}),c};O._rendererInitHook.cssAnimate=function(a){1===a.context.nodeType&&(a.renderer=new W(a))};var V=0;O.DOMRenderer=function(a){return this.rekapi=a,this._playTimestamp=null,this._cachedCSS=null,this._styleElement=null,this._stopSetTimeoutHandle=null,a.on("timelineModified",P.bind(function(){this._cachedCSS=null},this)),a.on("addActor",k),this};var W=O.DOMRenderer;W.prototype.canAnimateWithCSS=function(){return!!d()},W.prototype.play=function(a){this.isPlaying()&&this.stop();var c=this._cachedCSS||this.prerender.apply(this,arguments);if(this._styleElement=e(this.rekapi,c),this._playTimestamp=Q(),a){var d=a*this.rekapi.getAnimationLength();this._stopSetTimeoutHandle=setTimeout(P.bind(this.stop,this,!0),d+T)}b(this.rekapi,"play",P)},W.prototype.stop=function(a){if(this.isPlaying()){clearTimeout(this._stopSetTimeoutHandle),this._styleElement.innerHTML="",document.head.removeChild(this._styleElement),this._styleElement=null;var c;c=a?this.rekapi.getAnimationLength():(Q()-this._playTimestamp)%this.rekapi.getAnimationLength(),this.rekapi.update(c),b(this.rekapi,"stop",P)}},W.prototype.isPlaying=function(){return!!this._styleElement},W.prototype.prerender=function(a,b){return this._cachedCSS=this.toString({vendors:[d()],fps:b,iterations:a})},W.prototype.setActorTransformOrder=function(a,b){var c=P.reject(b,h);if(c.length)throw"Unknown or unsupported transform functions: "+c.join(", ");return a._transformOrder=P.uniq(b),this.rekapi},W.getActorClassName=function(a){return"actor-"+a.id},O.DOMRenderer.prototype.toString=function(a){a=a||{};var b=[];return P.each(this.rekapi.getAllActors(),function(c){1===c.context.nodeType&&b.push(p(c,a))}),b.join("\n")};var X=30,Y="TRANSFORM",Z="VENDOR",$={microsoft:"-ms-",mozilla:"-moz-",opera:"-o-",w3:"",webkit:"-webkit-"},_={linear:".25,.25,.75,.75",easeInQuad:".55,.085,.68,.53",easeInCubic:".55,.055,.675,.19",easeInQuart:".895,.03,.685,.22",easeInQuint:".755,.05,.855,.06",easeInSine:".47,0,.745,.715",easeInExpo:".95,.05,.795,.035",easeInCirc:".6,.04,.98, .335",easeOutQuad:".25,.46,.45,.94",easeOutCubic:".215,.61,.355,1",easeOutQuart:".165,.84,.44,1",easeOutQuint:".23,1,.32,1",easeOutSine:".39,.575,.565,1",easeOutExpo:".19,1,.22,1",easeOutCirc:".075,.82,.165,1",easeInOutQuad:".455,.03,.515,.955",easeInOutCubic:".645,.045,.355,1",easeInOutQuart:".77,0,.175,1",easeInOutQuint:".86,0.07,1",easeInOutSine:".445,.05,.55,.95",easeInOutExpo:"1,0,0,1",easeInOutCirc:".785,.135,.15,.86"},ab=["@%skeyframes %s-keyframes {","%s","}"].join("\n"),bb=[".%s {","%s","}"].join("\n")});var g=function(a,b){"use strict";var c=b?{}:a,d=b&&b.underscore?b.underscore:c._,g=b&&b.Tweenable?b.Tweenable:c.Tweenable;return f(c,d,g),d.each(e,function(a){a(c)}),c.Rekapi};if("function"==typeof define&&define.amd){var h="undefined"!=typeof _;define(["shifty","underscore"],function(a,b){var c=null!=b,d={Tweenable:a,underscore:c?b:_},e=g({},d);return!h&&c&&(this._=void 0),e})}else g(this)}(this);